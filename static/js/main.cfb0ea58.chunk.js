(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{27:function(e,t,a){},39:function(e,t,a){e.exports=a(77)},44:function(e,t,a){},49:function(e,t,a){},53:function(e,t,a){},55:function(e,t,a){},57:function(e,t,a){},60:function(e,t,a){},62:function(e,t,a){},64:function(e,t,a){},66:function(e,t,a){},72:function(e,t,a){},74:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(34),l=a.n(c),i=(a(44),a(2)),s=a(3),o=a(5),m=a(4),u=a(6),d=a(80),p=a(79),h=a(78),v=a(8),f=a(9),b=a(15),_=a(14),E=a.n(_),j=(a(49),function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.bsPrefix,a=e.variant,n=(e.size,e.active),c=e.className,l=e.block,i=e.type,s=(e.innerRef,Object(b.a)(e,["bsPrefix","variant","size","active","className","block","type","innerRef"])),o=E()(c,t,n&&"active",l&&"".concat(t,"--block"),"".concat(t,"--").concat(a));return r.a.createElement("button",Object.assign({},s,{type:i,className:o}))}}]),t}(n.PureComponent));j.defaultProps={bsPrefix:"button",variant:"primary",active:!1,disabled:!1,type:"button"};var y=j,O=a(18),g=a(35),N=a(36),k=a.n(N),C=(a(53),function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.type,a=e.nasaId,n=e.imageUrl,c=n?{backgroundImage:"url('".concat(n,"')")}:{backgroundColor:"#CCC"};return n&&"video"===t?r.a.createElement(h.a,{to:"/video/".concat(a)},r.a.createElement("div",{className:"thumbnail",style:c},r.a.createElement("div",{className:"thumbnail__play"},r.a.createElement(v.a,{icon:f.c})))):r.a.createElement("div",{className:"thumbnail",style:c})}}]),t}(n.PureComponent));function x(e){return fetch("https://images-api.nasa.gov/search?q=".concat(e)).then(function(e){return e.json()}).then(function(e){return{links:e.collection.links,metadata:e.collection.metadata,items:e.collection.items.map(function(e){return function(e){var t,a;if(t=e.data&&e.data.length?{nasaId:e.data[0].nasa_id,title:e.data[0].title,description:e.data[0].description,creator:e.data[0].center,dateCreated:e.data[0].date_created,type:e.data[0].media_type}:{nasaId:null,title:null,description:null,creator:null,dateCreated:null,imageUrl:null,type:null},e.links&&e.links.length&&"image"===t.type){var n=e.links.find(function(e){return"image"===e.render});a=n?n.href:null}return Object(O.a)({},t,{imageUrl:a})}(e)})}})}a(55);var I=function(e){function t(e){var a;Object(i.a)(this,t),a=Object(o.a)(this,Object(m.a)(t).call(this,e));var n,r=e.item;return"video"===r.type&&(n=r.nasaId,fetch("https://images-api.nasa.gov/asset/".concat(n)).then(function(e){return e.json()})).then(function(e){a.setState({videoUrl:function(e){var t=e.find(function(e){return e.href.endsWith("~small.mp4")});return t?t.href:null}(e.collection.items)}),e.imageUrl||a.setState({imageUrl:function(e){var t=e.find(function(e){return e.href.endsWith("~small_thumb_00003.png")});return t?t.href:null}(e.collection.items)})}),a.state=Object(O.a)({},r,{videoUrl:void 0}),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.children,t=this.state,a=t.title,n=t.description,c=t.creator,l=t.dateCreated,i=t.nasaId,s=t.imageUrl,o=t.type;return r.a.createElement("div",{className:"item"},r.a.createElement(C,{nasaId:i,imageUrl:s,type:o}),r.a.createElement("div",{className:"item__sub-title text--xsmall color--dark-gray"},r.a.createElement("div",{className:"item__sub-title__media-type"},c),r.a.createElement("div",{className:"item__sub-title__date-created"},r.a.createElement(k.a,{format:"DD MMM, YYYY"},l))),r.a.createElement("div",{className:"item__title text--small"},a),r.a.createElement("div",{className:"item__description text--xsmall text--justify color--dark-gray"},r.a.createElement(g.a,{lines:3,ellipsis:"..."},n)),r.a.createElement("div",{className:"item__actions text--xsmall color--dark-gray"},e))}}]),t}(n.Component),U=(a(57),function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.onClose;return r.a.createElement("div",{className:"popup"},r.a.createElement("div",{className:"popup__overlay"}),r.a.createElement("div",{className:"popup__container"},r.a.createElement("div",{className:"popup__body"},r.a.createElement("div",{className:"popup__body__close",onClick:a},r.a.createElement(v.a,{icon:f.e})),t)))}}]),t}(n.Component)),P=(a(27),function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.id,a=e.bsPrefix,n=e.className,c=e.size,l=Object(b.a)(e,["id","bsPrefix","className","size"]),i=E()(a,n,"form-control",c&&"form-control--".concat(c));return r.a.createElement("input",Object.assign({},l,{id:t,className:i}))}}]),t}(n.PureComponent));P.defaultProps={bsPrefix:"input"};var w=P,S=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.id,a=e.bsPrefix,n=e.className,c=e.size,l=Object(b.a)(e,["id","bsPrefix","className","size"]),i=E()(a,n,"form-control",c&&"form-control--".concat(c));return r.a.createElement("textarea",Object.assign({},l,{id:t,className:i}))}}]),t}(n.PureComponent);S.defaultProps={bsPrefix:"textarea"};var z=S,A=(a(60),function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"addToCollection",value:function(){var e=this.props.item,t=e.title,a=e.description,n=e.creator,r=e.dateCreated,c=e.nasaId,l=e.imageUrl,i=e.videoUrl,s=e.type;console.log({title:t,description:a,creator:n,dateCreated:r,nasaId:c,imageUrl:l,videoUrl:i,type:s})}},{key:"render",value:function(){var e=this,t=this.props.item,a=t.title,n=t.description,c=(t.creator,t.dateCreated,t.nasaId,t.imageUrl),l=t.videoUrl,i=t.type;return r.a.createElement(U,null,r.a.createElement("div",{className:"form"},r.a.createElement("div",{className:"form__header"},r.a.createElement("div",{className:"form__header__title"},"Add to Collection")),r.a.createElement("div",{className:"form__body"},r.a.createElement(w,{value:a,size:"small"}),r.a.createElement(z,{value:n,size:"small",rows:"8"}),r.a.createElement(w,{value:i,size:"small"}),r.a.createElement(w,{value:c,size:"small"}),r.a.createElement(w,{value:l,size:"small"}),r.a.createElement(y,{onClick:function(){return e.addToCollection()}},r.a.createElement(v.a,{icon:f.b})," Add to collection"))))}}]),t}(n.Component)),R=(a(62),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={selectedItem:null},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"selectItem",value:function(e){this.setState({selectedItem:e})}},{key:"renderItemList",value:function(e){var t=this;return e.map(function(e,a){return r.a.createElement("div",{className:"collection__item",key:a},r.a.createElement(I,{item:e},r.a.createElement(y,{onClick:function(){return t.selectItem(e)},className:"text--small",variant:"default",block:!0},r.a.createElement(v.a,{icon:f.d})," ",r.a.createElement("span",{className:"color--gray"},"Add to NASA collection"))))})}},{key:"render",value:function(){var e=this.props.items,t=this.state.selectedItem;return r.a.createElement("div",{className:"collection"},e?this.renderItemList(e):"",t?r.a.createElement(A,{item:t}):"")}}]),t}(n.Component)),q=(a(64),function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"collection-page"},r.a.createElement("div",{className:"collection-page__header"},r.a.createElement("div",{className:"collection-page__header__title"},r.a.createElement("label",null,"NASA Collection")),r.a.createElement("div",{className:"collection-page__header__actions"},r.a.createElement(h.a,{to:"/nasa-search"},r.a.createElement(y,null,r.a.createElement(v.a,{icon:f.d})," Add new item")))),r.a.createElement("div",{className:"collection-page__body"},r.a.createElement(R,null)))}}]),t}(n.Component)),B=(a(66),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={queryString:"planet earth",totalResult:null,items:null},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"search",value:function(e){var t=this;"Enter"===e.key&&this.setState({queryString:e.target.value,totalResult:null,items:null},function(){x(t.state.queryString).then(function(e){t.setState({items:e.items,totalResult:e.metadata.total_hits})})})}},{key:"render",value:function(){var e=this,t=this.state,a=t.items,n=t.totalResult,c=t.queryString;return r.a.createElement("div",{className:"search-page"},r.a.createElement("div",{className:"search-page__header"},r.a.createElement("div",{className:"search-page__header__actions"},r.a.createElement(h.a,{to:"/",className:"text--small"},r.a.createElement(v.a,{icon:f.a})," Back to Collection")),r.a.createElement("div",{className:"search-page__header__title"},r.a.createElement("label",null,"Search from Nasa")),r.a.createElement("div",{className:"search-page__header__input"},r.a.createElement(w,{type:"text",placeholder:"Type something then Enter to search...",onKeyPress:function(t){return e.search(t)}}))),r.a.createElement("div",{className:"search-page__body"},r.a.createElement("div",{className:"search-page__body__total-hits"},a?r.a.createElement("span",null,n,' result for "',c,'"'):""),r.a.createElement(R,{items:a})))}}]),t}(n.Component)),W=function(e){var t=e.match;return r.a.createElement("h2",null,t.params.nasaId)},Y=a(37),M=a.n(Y),T=(a(72),function(e){function t(e){var a;Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={videoUrl:null};var n=e.match.params.nasaId;return fetch("https://images-api.nasa.gov/asset/".concat(n)).then(function(e){return e.json()}).then(function(e){return a.setState({videoUrl:e.collection.items[0].href})}),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.videoUrl,t=this.props.history.goBack;return r.a.createElement("div",{className:"video-page"},r.a.createElement("div",{className:"video-page__header"},r.a.createElement("div",{className:"video-page__header__title"},r.a.createElement("label",null,"NASA video")),r.a.createElement("div",{className:"video-page__header__actions"},r.a.createElement("span",{onClick:t,className:"color--white"},r.a.createElement(v.a,{icon:f.e})))),r.a.createElement("div",{className:"video-page__body"},r.a.createElement(M.a,{url:e,controls:!0,width:"100%",height:"100%"})))}}]),t}(n.Component)),D=(a(74),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement("div",null,r.a.createElement(p.a,{exact:!0,path:"/",component:q}),r.a.createElement(p.a,{path:"/nasa-search",component:B}),r.a.createElement(p.a,{path:"/video/:nasaId",component:T}),r.a.createElement(p.a,{path:"/edit/:nasaId",component:W})))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(D,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[39,2,1]]]);
//# sourceMappingURL=main.cfb0ea58.chunk.js.map